#include <iostream>
#include <fstream>
using namespace std;

class Student {
    int rollNo;
    char name[30];
    float marks;

public:
    void getData() {
        cout << "Enter Roll Number: ";
        cin >> rollNo;
        cout << "Enter Name: ";
        cin.ignore(); // clear buffer
        cin.getline(name, 30);
        cout << "Enter Marks: ";
        cin >> marks;
    }

    void displayData() {
        cout << "Roll Number: " << rollNo << endl;
        cout << "Name: " << name << endl;
        cout << "Marks: " << marks << endl;
    }
};

int main() {
    Student s;

    ofstream outFile("student.dat", ios::binary | ios::out);
    if (!outFile) {
        cout << "Error opening file for writing!" << endl;
        return 1;
    }

    cout << "Enter student details:\n";
    s.getData();
    outFile.write(reinterpret_cast<char*>(&s), sizeof(s));
    outFile.close();

    ifstream inFile("student.dat", ios::binary | ios::in);
    if (!inFile) {
        cout << "Error opening file for reading!" << endl;
        return 1;
    }

    inFile.read(reinterpret_cast<char*>(&s), sizeof(s));
    cout << "\nStudent details read from file:\n";
    s.displayData();
    inFile.close();

    return 0;
}
